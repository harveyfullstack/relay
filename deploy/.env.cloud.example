# Agent Relay Cloud - Production Environment Configuration
# Copy to .env.cloud and fill in your values

# =============================================================================
# Domain Configuration
# =============================================================================
# Main domains for your deployment
LANDING_URL=https://agent-relay.com
APP_URL=https://app.agent-relay.com
API_URL=https://api.agent-relay.com
WORKSPACE_DOMAIN=ws.agent-relay.com

# Public URL (used for OAuth callbacks, etc.)
PUBLIC_URL=https://api.agent-relay.com

# =============================================================================
# Server Configuration
# =============================================================================
PORT=3000
NODE_ENV=production
SESSION_SECRET=generate-a-32-byte-random-string-here

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
# Railway provides this automatically when you add PostgreSQL
DATABASE_URL=postgresql://user:password@host:5432/agent_relay

# =============================================================================
# Redis (Sessions & Caching)
# =============================================================================
# Railway provides this automatically when you add Redis
REDIS_URL=redis://localhost:6379

# =============================================================================
# GitHub OAuth
# =============================================================================
# Create a GitHub OAuth App: https://github.com/settings/applications/new
# Homepage URL: https://agent-relay.com
# Callback URL: https://api.agent-relay.com/api/auth/github/callback
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# =============================================================================
# Compute Provider (for user workspaces)
# =============================================================================
# Options: fly, railway, docker
COMPUTE_PROVIDER=fly

# Fly.io Configuration (recommended for workspaces)
# Get token: fly auth token
FLY_API_TOKEN=your-fly-api-token
FLY_ORG=personal
FLY_REGION=sjc

# Custom domain for workspaces (CNAME *.ws.agent-relay.com to fly.dev)
FLY_WORKSPACE_DOMAIN=ws.agent-relay.com

# =============================================================================
# Stripe Billing
# =============================================================================
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Price IDs from Stripe Products
STRIPE_PRICE_PRO_MONTHLY=price_...
STRIPE_PRICE_PRO_YEARLY=price_...
STRIPE_PRICE_TEAM_MONTHLY=price_...
STRIPE_PRICE_TEAM_YEARLY=price_...

# =============================================================================
# Encryption (for credential vault)
# =============================================================================
# Generate with: openssl rand -hex 32
VAULT_ENCRYPTION_KEY=generate-a-64-character-hex-string

# =============================================================================
# Optional: Monitoring & Logging
# =============================================================================
# SENTRY_DSN=https://xxx@sentry.io/xxx
# LOG_LEVEL=info

# Coding Tasks Dataset
# Standard coding tasks for comparing agent configurations

name: Coding Tasks
description: Common software engineering tasks for benchmarking agent configurations
version: "1.0.0"

tasks:
  # Low complexity tasks
  - id: add-logging
    description: Add structured logging to the API endpoints
    files:
      - src/routes/api.ts
      - src/utils/logger.ts
    expectedOutcome: All API endpoints log requests and responses with timestamps
    complexity: low
    tags:
      - logging
      - observability

  - id: fix-typos
    description: Fix typos and improve variable names in the codebase
    files:
      - src/utils/helpers.ts
      - src/components/Form.tsx
    expectedOutcome: All typos fixed, variable names follow conventions
    complexity: low
    tags:
      - refactoring
      - code-quality

  # Medium complexity tasks
  - id: add-rate-limiting
    description: Add rate limiting middleware to protect API endpoints
    files:
      - src/middleware/rateLimit.ts
      - src/routes/api.ts
      - src/config/limits.ts
    expectedOutcome: Rate limiting applied to all endpoints, configurable limits per route
    complexity: medium
    tags:
      - security
      - middleware

  - id: refactor-auth-jwt
    description: Refactor authentication from sessions to JWT tokens
    files:
      - src/auth/session.ts
      - src/auth/jwt.ts
      - src/middleware/auth.ts
      - src/routes/login.ts
      - tests/auth.test.ts
    expectedOutcome: JWT-based auth working, all tests pass, sessions removed
    complexity: medium
    tags:
      - auth
      - security
      - refactoring

  - id: add-caching-layer
    description: Add Redis caching to expensive database queries
    files:
      - src/services/cache.ts
      - src/repositories/user.ts
      - src/repositories/product.ts
      - src/config/redis.ts
    expectedOutcome: Caching implemented for user and product queries, cache invalidation working
    complexity: medium
    tags:
      - performance
      - caching

  # High complexity tasks
  - id: database-migration
    description: Migrate from PostgreSQL to MongoDB while maintaining API compatibility
    files:
      - src/db/postgres/connection.ts
      - src/db/mongo/connection.ts
      - src/models/user.ts
      - src/models/product.ts
      - src/models/order.ts
      - src/repositories/user.ts
      - src/repositories/product.ts
      - src/repositories/order.ts
      - scripts/migrate-data.ts
      - docker-compose.yml
    expectedOutcome: All data migrated, API unchanged, tests pass on MongoDB
    complexity: high
    tags:
      - database
      - migration
      - high-risk

  - id: implement-rbac
    description: Implement role-based access control across the application
    files:
      - src/auth/rbac.ts
      - src/auth/permissions.ts
      - src/middleware/authorize.ts
      - src/routes/admin.ts
      - src/routes/user.ts
      - src/models/role.ts
      - src/models/permission.ts
      - tests/rbac.test.ts
    expectedOutcome: RBAC fully implemented, admin routes protected, tests pass
    complexity: high
    tags:
      - security
      - auth
      - permissions

  - id: api-versioning
    description: Implement API versioning with backward compatibility
    files:
      - src/routes/v1/index.ts
      - src/routes/v2/index.ts
      - src/middleware/version.ts
      - src/transformers/v1-to-v2.ts
      - src/docs/api-v1.yaml
      - src/docs/api-v2.yaml
      - tests/versioning.test.ts
    expectedOutcome: V1 and V2 APIs working, automatic version negotiation, docs updated
    complexity: high
    tags:
      - api
      - versioning
      - backward-compatibility
